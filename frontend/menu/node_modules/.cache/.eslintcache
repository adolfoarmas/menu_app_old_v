[{"/home/adolfo/menu_app/frontend/menu/src/App.jsx":"1","/home/adolfo/menu_app/frontend/menu/src/index.js":"2","/home/adolfo/menu_app/frontend/menu/src/pages/DishList.jsx":"3","/home/adolfo/menu_app/frontend/menu/src/reportWebVitals.js":"4","/home/adolfo/menu_app/frontend/menu/src/pages/UserLogin.jsx":"5","/home/adolfo/menu_app/frontend/menu/src/components/Header.jsx":"6","/home/adolfo/menu_app/frontend/menu/src/components/CategoryItem.jsx":"7","/home/adolfo/menu_app/frontend/menu/src/services/settings.js":"8","/home/adolfo/menu_app/frontend/menu/src/services/loginUser.js":"9","/home/adolfo/menu_app/frontend/menu/src/services/logoutUser.js":"10","/home/adolfo/menu_app/frontend/menu/src/context/userContext.js":"11","/home/adolfo/menu_app/frontend/menu/src/hooks/modalHook.jsx":"12","/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/createDishCategory.js":"13","/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/getDishCategories.js":"14","/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/deleteDishCategory.js":"15","/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/editDishCategory.js":"16","/home/adolfo/menu_app/frontend/menu/src/services/user/getUserData.js":"17","/home/adolfo/menu_app/frontend/menu/src/services/dish/getDish.js":"18","/home/adolfo/menu_app/frontend/menu/src/services/dish/editDish.js":"19","/home/adolfo/menu_app/frontend/menu/src/services/dish/createDish.js":"20","/home/adolfo/menu_app/frontend/menu/src/services/dish/deleteDish.js":"21","/home/adolfo/menu_app/frontend/menu/src/services/fetchData.js":"22","/home/adolfo/menu_app/frontend/menu/src/components/DishItem.jsx":"23","/home/adolfo/menu_app/frontend/menu/src/components/ToastMessage.jsx":"24","/home/adolfo/menu_app/frontend/menu/src/components/ToolBar.jsx":"25","/home/adolfo/menu_app/frontend/menu/src/styles/css.jsx":"26","/home/adolfo/menu_app/frontend/menu/src/pages/popups/ConfirmationYesNo.jsx":"27","/home/adolfo/menu_app/frontend/menu/src/pages/forms/DishForm.jsx":"28","/home/adolfo/menu_app/frontend/menu/src/pages/forms/DishCategoryForm.jsx":"29","/home/adolfo/menu_app/frontend/menu/src/components/BussinessInformationCard.jsx":"30","/home/adolfo/menu_app/frontend/menu/src/components/forms/DishForm.jsx":"31","/home/adolfo/menu_app/frontend/menu/src/components/forms/DishCategoryForm.jsx":"32","/home/adolfo/menu_app/frontend/menu/src/components/popups/ConfirmationYesNo.jsx":"33","/home/adolfo/menu_app/frontend/menu/src/components/userInformation.jsx":"34"},{"size":852,"mtime":1679930107478,"results":"35","hashOfConfig":"36"},{"size":663,"mtime":1679176385057,"results":"37","hashOfConfig":"36"},{"size":1224,"mtime":1679930697003,"results":"38","hashOfConfig":"36"},{"size":362,"mtime":1663651394259,"results":"39","hashOfConfig":"36"},{"size":3930,"mtime":1679930248870,"results":"40","hashOfConfig":"36"},{"size":2005,"mtime":1679874364136,"results":"41","hashOfConfig":"36"},{"size":5375,"mtime":1679875011571,"results":"42","hashOfConfig":"36"},{"size":323,"mtime":1664914563964,"results":"43","hashOfConfig":"36"},{"size":1005,"mtime":1679929023364,"results":"44","hashOfConfig":"36"},{"size":1019,"mtime":1679874364144,"results":"45","hashOfConfig":"36"},{"size":3352,"mtime":1679874364140,"results":"46","hashOfConfig":"36"},{"size":1194,"mtime":1679874364144,"results":"47","hashOfConfig":"36"},{"size":1072,"mtime":1678989544022,"results":"48","hashOfConfig":"36"},{"size":239,"mtime":1678804524400,"results":"49","hashOfConfig":"50"},{"size":1112,"mtime":1678996785105,"results":"51","hashOfConfig":"36"},{"size":1104,"mtime":1678993639844,"results":"52","hashOfConfig":"36"},{"size":702,"mtime":1664915295297,"results":"53","hashOfConfig":"36"},{"size":425,"mtime":1679007846008,"results":"54","hashOfConfig":"36"},{"size":1082,"mtime":1678993598492,"results":"55","hashOfConfig":"36"},{"size":1113,"mtime":1678992674409,"results":"56","hashOfConfig":"36"},{"size":1030,"mtime":1679008858045,"results":"57","hashOfConfig":"36"},{"size":742,"mtime":1678816720543,"results":"58","hashOfConfig":"36"},{"size":5050,"mtime":1679874364136,"results":"59","hashOfConfig":"36"},{"size":948,"mtime":1679930694103,"results":"60","hashOfConfig":"36"},{"size":4421,"mtime":1679874364136,"results":"61","hashOfConfig":"36"},{"size":15557,"mtime":1679930652508,"results":"62","hashOfConfig":"36"},{"size":1979,"mtime":1679873362850,"results":"63","hashOfConfig":"36"},{"size":7723,"mtime":1679873848243,"results":"64","hashOfConfig":"36"},{"size":3295,"mtime":1679873848243,"results":"65","hashOfConfig":"36"},{"size":1458,"mtime":1679874364136,"results":"66","hashOfConfig":"36"},{"size":6445,"mtime":1679932369982,"results":"67","hashOfConfig":"36"},{"size":2066,"mtime":1679874364140,"results":"68","hashOfConfig":"36"},{"size":1212,"mtime":1679928188824,"results":"69","hashOfConfig":"36"},{"size":441,"mtime":1679874364140,"results":"70","hashOfConfig":"36"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"jeph0y",{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"78"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"78"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"78"},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"fptk42",{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"78"},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","suppressedMessages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"78"},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"78"},{"filePath":"154","messages":"155","suppressedMessages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","suppressedMessages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","suppressedMessages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"163","messages":"164","suppressedMessages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","suppressedMessages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"169","messages":"170","suppressedMessages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"172","messages":"173","suppressedMessages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"175","messages":"176","suppressedMessages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"178","messages":"179","suppressedMessages":"180","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"/home/adolfo/menu_app/frontend/menu/src/App.jsx",[],[],"/home/adolfo/menu_app/frontend/menu/src/index.js",["181"],[],"import styled from 'styled-components';\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { IndexWrapper } from './styles/css';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\n\nroot.render(\n  <React.StrictMode>\n    <IndexWrapper>\n      <App/>\n    </IndexWrapper>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n",[],"/home/adolfo/menu_app/frontend/menu/src/pages/DishList.jsx",["182","183","184","185"],[],"/home/adolfo/menu_app/frontend/menu/src/reportWebVitals.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/pages/UserLogin.jsx",["186","187","188","189","190","191"],[],"/home/adolfo/menu_app/frontend/menu/src/components/Header.jsx",["192","193","194","195"],[],"import React, { useContext, useEffect, useState } from \"react\";\nimport Logo from \"../b36cde191e387823d890215d9d552c27.jpg\";\nimport logoutUser from \"../services/logoutUser.js\";\nimport { Context } from \"../context/userContext\";\nimport {\n  HeadderWrapper,\n  ButtonNormal,\n  ImageDiv,\n  ButtonPanelDiv,\n} from \"../styles/css\";\nimport BussinessInformationCard from \"./BussinessInformationCard\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faRightFromBracket } from \"@fortawesome/free-solid-svg-icons\";\nimport UserInformation from \"./userInformation\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\n\nconst Header = () => {\n  const [logOut, setLogOut] = useState(false);\n  const { token, csfrToken, userLoggedId, userLoggedName } =\n    useContext(Context);\n  const navigate = useNavigate();\n  const [userLoggedNameValue, setUserLoggedNameValue] = userLoggedName;\n  const [tokenValue, setTokenValue] = token;\n  const [csfrTokenValue, setCsfrTokenValue] = csfrToken;\n\n  function handleLogout(e) {\n    e.preventDefault();\n    logoutUser(tokenValue)\n      .then(() => {\n        setTokenValue(null);\n        setCsfrTokenValue(null);\n        setUserLoggedNameValue(null);\n      })\n      .catch((error) => console.errorlog(\"error\", error))\n      .finally(() => setLogOut(true));\n  }\n\n  useEffect(() => {\n    if (logOut) {\n      navigate(\"/login\");\n    }\n    setLogOut(false);\n  }, [logOut]);\n\n  return (\n    <>\n      <HeadderWrapper>\n        <ImageDiv>\n          <img src={Logo} alt=\"Logo\" />\n        </ImageDiv>\n        <BussinessInformationCard />\n        <ButtonPanelDiv>\n          {userLoggedNameValue ? (\n            <UserInformation userName={userLoggedNameValue} />\n          ) : (\n            <></>\n          )}\n          <ButtonNormal hidden={!tokenValue} onClick={handleLogout}>\n            <FontAwesomeIcon icon={faRightFromBracket} /><p>Log out</p>\n          </ButtonNormal>\n        </ButtonPanelDiv>\n      </HeadderWrapper>\n    </>\n  );\n};\n\nexport default Header;\n","/home/adolfo/menu_app/frontend/menu/src/components/CategoryItem.jsx",["196","197","198","199","200","201"],[],"import styled from \"styled-components\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport getDishes from \"../services/dish/getDish\";\nimport DishCategoryForm from \"./forms/DishCategoryForm\";\nimport DishItem from \"./DishItem\";\nimport ModalHook, { useModal } from \"../hooks/modalHook\";\nimport deleteDishCategory from \"../services/dishCategory/deleteDishCategory.js\";\nimport { CategoriesContext, Context, ToastVisibilityContext, DishesContext } from \"../context/userContext\";\nimport editDishCategory from \"../services/dishCategory/editDishCategory\";\nimport ConfirmationYesNo from \"./popups/ConfirmationYesNo\";\nimport { ButtonDeleteCategory, ButtonEditCategory, CategoryButton, CategoryWrapper, DishListWrapper, } from \"../styles/css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenToSquare, faTrashCan, faCaretUp, faCaretDown } from '@fortawesome/free-solid-svg-icons';\n\n\nconst CategoryItem = ({ data }) => {\n  const { token, csfrToken } = useContext(Context);\n  const [dishCategories, setDishCategories] = useContext(CategoriesContext);\n  const [dishes, setDishes] = useState([]);\n  const [toastVisible, setToastVisible, toastMessage, setToastMessage, toastType, setToastType] = useContext(ToastVisibilityContext)\n\n  const [tokenValue] = token;\n  const [csfrTokenValue] = csfrToken;\n\n  const [dishesVisible, setDishesVisible] = useState(false);\n  // const [dishes, setDishes] = useState([]);\n  const [category, setCategory] = useState(data)\n  const [confirmationModalMessage, setConfirmationMessage] = useState('')\n\n  const editDishCategoryModal = useModal(\"Dish Category\");\n  const confirmationModal = useModal(\"Confirm delete category\");\n\n  const onEditDishCategoryModal = () => {\n    editDishCategoryModal.changeShow();\n  };\n  \n  const onDeleteDishCategory = () => {\n    setConfirmationMessage('Are you sure you want to delete the category?')\n    confirmationModal.changeShow();\n  } \n\n  const onConfirmation = (confirmation) => {\n    confirmation ? onConfirmateDeleteDishCategory() : onDeleteDishCategory();\n  }\n\n\n  const onConfirmateDeleteDishCategory = () => {\n    deleteDishCategory(category.id, tokenValue, csfrTokenValue)\n    .then(data => {\n      // console.log(data)\n      if(data.Error){\n        throw data\n      }\n      return data\n    })\n    .then(() => {\n      const nameDeleted = category.name\n      const indexToEdit = dishCategories.indexOf(category)\n      dishCategories.splice(indexToEdit, 1) //modifies existing array\n      setDishCategories(dishCategories)\n      displayToast('Category \"' + String(nameDeleted) + '\" has been deleted!', 'success')\n    })\n    .catch(data => {\n      displayToast(data, 'error')\n    })\n  };\n\n  const getDishesService = async (cat) => {\n    const apiDishes = await getDishes(cat)\n    setDishes(apiDishes)\n  };\n\n  const displayToast = (message, type) => {\n    setToastMessage(message)\n    setToastType(type)\n    setToastVisible(true)\n  }\n\n  useEffect(() => {\n    getDishesService(category);\n  }, [dishCategories]);\n\n  //TO REFACTOR: Unify with onSubmitNewDishCategory in DishList.jsx page\n  const onSubmit = (formData) => {\n    let payload = new FormData();\n    payload.append(\"name\", formData.name);\n    payload.append(\"description\", formData.description);\n    payload.append(\"created_by\", JSON.parse(window.localStorage.getItem(\"logedUserId\"))\n    );\n\n    editDishCategory(payload, formData.id, tokenValue, csfrTokenValue)\n    .then(data => {\n      // console.log(data)\n      if(data.Error){\n        throw data\n      }\n      return data\n    })\n    .then((data) => {\n      const editedCategory = data;\n      setCategory(editedCategory)\n      const indexToEdit = dishCategories.indexOf(category)\n      dishCategories.splice(indexToEdit, 1, editedCategory) //modifies existing array\n      setDishCategories(dishCategories)\n      onEditDishCategoryModal()\n      displayToast('Category \"' + String(data.name) + '\" has been edited!', 'success')\n    })\n    .catch(data => {\n      displayToast(data, 'error')\n    })\n  };\n\n  return (\n    <>\n      <CategoryWrapper>\n        <CategoryButton onClick={() => setDishesVisible(!dishesVisible)}>\n          <div></div>\n          <p>{category.name}</p>\n          {dishesVisible ? (\n            <FontAwesomeIcon icon={faCaretUp} />\n          ) : (\n            <FontAwesomeIcon icon={faCaretDown} />\n          )}\n\n        </CategoryButton>\n\n        {tokenValue && <><ButtonEditCategory\n          onClick={onEditDishCategoryModal}\n        >\n          <FontAwesomeIcon icon={faPenToSquare} />\n        </ButtonEditCategory>\n\n        <ButtonDeleteCategory\n          onClick={onDeleteDishCategory}\n        >\n          <FontAwesomeIcon icon={faTrashCan} />\n        </ButtonDeleteCategory></>}\n      </CategoryWrapper>\n\n      <DishListWrapper>\n        <ModalHook\n          modalHook={editDishCategoryModal}\n          content={<DishCategoryForm data={category} onSubmit={onSubmit} />}\n        />\n        <ModalHook\n          modalHook={confirmationModal}\n          content={\n            <ConfirmationYesNo\n              message={confirmationModalMessage}\n              onConfirmation={onConfirmation}\n            />\n          }\n        />\n\n        {dishes &&\n          dishes.map((dish, id) => (\n            <DishItem key={id} visible={dishesVisible} dish={dish} />\n          ))}\n      </DishListWrapper>\n    </>\n  );\n};\n\nexport default CategoryItem;","/home/adolfo/menu_app/frontend/menu/src/services/settings.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/loginUser.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/logoutUser.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/context/userContext.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/hooks/modalHook.jsx",["202"],[],"import React, { useEffect, useState } from \"react\";\nimport {\n  BtnClose,\n  ModalArea,\n  ModalBackArea,\n  ModalHeader,\n  Title,\n} from \"../styles/css\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nfunction useModal(textTitle) {\n  const [show, setShow] = useState(false);\n  const [title, setTitle] = useState(\"Modal\");\n  // const [isModalOpen, setIsModalOpen] = useState(false)\n\n  useEffect(() => {\n    setTitle(textTitle);\n  }, []);\n\n  const changeShow = () => {\n    setShow(!show);\n  };\n\n  return {\n    changeShow,\n    show,\n    title,\n  };\n}\n\nfunction ModalHook({ modalHook, content }) {\n  // Estado actual modalHook.show\n  // Cambio del estado modalHook.changeShow\n\n  return modalHook.show ? (\n    <ModalBackArea onClick={modalHook.changeShow}>\n      <ModalArea onClick={(e) => e.stopPropagation()}>\n        <ModalHeader>\n          <Title> {modalHook.title} </Title>\n          <BtnClose onClick={modalHook.changeShow}><FontAwesomeIcon icon={faTimes} /></BtnClose>\n        </ModalHeader>\n        {content}\n      </ModalArea>\n    </ModalBackArea>\n  ) : null;\n}\n\nexport default ModalHook;\n\nexport { useModal };\n","/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/createDishCategory.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/getDishCategories.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/deleteDishCategory.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dishCategory/editDishCategory.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/user/getUserData.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dish/getDish.js",["203"],[],"import {DISHES_END_POINT} from \"../settings.js\"\n\nconst handleErrors = (response) => {\n    if(!response.ok){\n        const errorMessage = {'error': response.statusText}\n        return errorMessage\n    }\n    return response  \n}\n\nexport default async function getDish(category){\n    const respuesta =  await fetch(DISHES_END_POINT + \"?category=\" + String(category.id))\n    const json = await respuesta.json()\n    return json;\n}\n","/home/adolfo/menu_app/frontend/menu/src/services/dish/editDish.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dish/createDish.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/dish/deleteDish.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/services/fetchData.js",[],[],"/home/adolfo/menu_app/frontend/menu/src/components/DishItem.jsx",["204","205","206","207","208","209","210","211"],[],"import styled from \"styled-components\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport ModalHook, { useModal } from \"../hooks/modalHook\";\nimport NewDish from \"./forms/DishForm\";\nimport { CategoriesContext, Context, DishesContext, ToastVisibilityContext } from \"../context/userContext\";\nimport editDish from \"../services/dish/editDish\";\nimport deleteDish from \"../services/dish/deleteDish.js\";\nimport ConfirmationYesNo from \"./popups/ConfirmationYesNo\";\nimport {DishWrapper, DishImage, DishDescriptionWrapper, DishPriceCurrencyWrapper, DishEditButton, DishDeleteButton, DishImageDiv} from \"../styles/css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPenToSquare, faTrashCan } from '@fortawesome/free-solid-svg-icons';\n\nconst DishItem = (props) => {\n\n  const { token, csfrToken } = useContext(Context);\n  const [toastVisible, setToastVisible, toastMessage, setToastMessage, toastType, setToastType] = useContext(ToastVisibilityContext)\n  const [dishCategories, setDishCategories] = useContext(CategoriesContext)\n\n  const [dishes, setDishes] = useContext(DishesContext);\n\n  const [tokenValue] = token;\n  const [csfrTokenValue] = csfrToken;\n\n  let [dish, setDish] = useState({});\n  const [confirmationModalMessage, setConfirmationMessage] = useState('')\n\n  const editDishHook = useModal(\"Dish\");\n  const confirmationModal = useModal(\"Confirm delete dish\");\n\n  const onConfirmation = (confirmation) => {\n    confirmation ? onConfirmateDeleteDish() : onDeleteDish();\n  }\n  \n  const onDeleteDish = () => {\n    confirmationModal.changeShow();\n  } \n\n  const editDishModal = () => {\n    editDishHook.changeShow();\n  };\n\n  const onConfirmateDeleteDish = () => {\n    deleteDish(dish.id, tokenValue, csfrTokenValue)\n    .then(data => {\n      // console.log(data)\n      if(data.Error){\n        throw data\n      }\n      return data\n    })\n    .then(() => {\n      const nameDeleted = dish.name\n      const categorySelected = dishCategories.find(obj => obj.id === dish.category)\n      const dishesOfCategorySelected = categorySelected['dishes']\n      const indexToEdit = dishesOfCategorySelected.indexOf(dish)\n      categorySelected['dishes'].splice(indexToEdit, 1) //modifies existing array\n      console.log(\"dishCategories\", dishCategories)\n      setDish(null)\n      displayToast('Category \"' + String(nameDeleted) + '\" has been deleted!', 'success')\n      onDeleteDish()\n\n    })\n    .catch(data => {\n      displayToast(data, 'error')\n    })\n  };\n\n  const displayToast = (message, type) => {\n    setToastMessage(message)\n    setToastType(type)\n    setToastVisible(true)\n  }\n\n  useEffect(() => {\n    setDish(props.dish);\n    setConfirmationMessage('Are you sure you want to delete the category?')\n  }, [dishCategories]);\n\n  //TO REFACTOR: Unify with onSubmitNewDish in DishList.jsx page\n  const onSubmit = (formData) => {\n    let payload = new FormData();\n\n    payload.append(\"name\", formData.name);\n    payload.append(\"description\", formData.description);\n    payload.append(\"category\", JSON.parse(formData.category));\n    payload.append(\"observation\", formData.observation);\n    if (typeof formData.image != \"string\") {\n      payload.append(\"image\", formData.image);\n    }\n    payload.append(\"price\", formData.price);\n    payload.append(\"currency\", formData.currency);\n    payload.append(\n      \"created_by\",\n      JSON.parse(window.localStorage.getItem(\"logedUserId\"))\n    );\n\n    editDish(payload, formData.id, tokenValue, csfrTokenValue)\n    .then(data => {\n      // console.log(data)\n      if(data.Error){\n        throw data\n      }\n      return data\n    })\n    .then((data) => {\n      console.log('data from post', data)\n      setDish(data);\n      console.log('dish after change', dish)\n      editDishModal()\n      displayToast('Dish \"' + String(data.name) + '\" has been edited!', 'success')\n    })\n    .catch(data => {\n      displayToast(data, 'error')\n    })\n  };\n\n  if (props.visible && dish) {\n    return (\n      <DishWrapper>\n        <ModalHook\n          modalHook={editDishHook}\n          content={<NewDish data={dish} onSubmit={onSubmit} />}\n        />\n        <ModalHook\n          modalHook={confirmationModal}\n          content={<ConfirmationYesNo message={confirmationModalMessage} onConfirmation={onConfirmation} />}\n        />\n        <DishImageDiv>\n          <DishImage src={dish.image} alt={dish.name} />\n        </DishImageDiv>\n        <DishDescriptionWrapper>\n          <h3>{dish.name}</h3>\n          <p>\n            <em>{dish.description}</em>\n          </p>\n        </DishDescriptionWrapper>\n        <DishPriceCurrencyWrapper>\n          <p>\n            {dish.currency} {dish.price}\n          </p>\n        </DishPriceCurrencyWrapper>\n        <DishEditButton hidden={!tokenValue} onClick={editDishModal}>\n        <FontAwesomeIcon icon={faPenToSquare} />\n        </DishEditButton>\n        <DishDeleteButton hidden={!tokenValue} onClick={onDeleteDish}>\n        <FontAwesomeIcon icon={faTrashCan} />\n        </DishDeleteButton>\n      </DishWrapper>\n    );\n  }\n};\n\nexport default DishItem;","/home/adolfo/menu_app/frontend/menu/src/components/ToastMessage.jsx",["212","213","214","215"],[],"/home/adolfo/menu_app/frontend/menu/src/components/ToolBar.jsx",["216","217","218","219","220"],[],"import styled from \"styled-components\";\nimport React, { useEffect, useContext } from \"react\";\nimport DishForm from \"./forms/DishForm\";\nimport DishCategoryForm from \"./forms/DishCategoryForm\";\nimport {\n  CategoriesContext,\n  Context,\n  ToastVisibilityContext,\n} from \"../context/userContext\";\nimport ModalHook, { useModal } from \"../hooks/modalHook\";\nimport createDishCategory from \"../services/dishCategory/createDishCategory\";\nimport createDish from \"../services/dish/createDish\";\nimport {ButtonNormal, ToolBarButton, ToolBarWrapper, } from \"../styles/css\"\n\nconst ToolBar = () => {\n  const { token, csfrToken } = useContext(Context);\n  const [dishCategories, setDishCategories] = useContext(CategoriesContext);\n  const [toastVisible, setToastVisible, toastMessage, setToastMessage, toastType, setToastType,] = useContext(ToastVisibilityContext);\n  const [tokenValue] = token;\n  const [csfrTokenValue] = csfrToken;\n\n  const newDishHook = useModal(\"Dish\");\n  const newDishCategoryHook = useModal(\"Dish Category\");\n\n  const newDishModal = () => {\n    newDishHook.changeShow();\n  };\n\n  const newDishCategoryModal = () => {\n    newDishCategoryHook.changeShow();\n  };\n\n  const displayToast = (message, type) => {\n    setToastMessage(message);\n    setToastType(type);\n    setToastVisible(true);\n  };\n\n  useEffect(() => {}, [dishCategories]);\n\n  //TO REFACTOR: Unify with onSubmit in DishItem.jsx component\n  const onSubmitNewDish = (formData) => {\n    let payload = new FormData();\n    payload.append(\"name\", formData.name);\n    payload.append(\"description\", formData.description);\n    payload.append(\"category\", JSON.parse(formData.category));\n    payload.append(\"observation\", formData.observation);\n    payload.append(\"image\", formData.image);\n    payload.append(\"price\", formData.price);\n    payload.append(\"currency\", formData.currency);\n    payload.append(\n      \"created_by\",\n      JSON.parse(window.localStorage.getItem(\"logedUserId\"))\n    );\n\n    createDish(payload, tokenValue, csfrTokenValue)\n      .then((data) => {\n        // console.log(data)\n        if (data.Error) {\n          throw data;\n        }\n        return data;\n      })\n      .then((data) => {\n        const categoryId = data.category;\n        const updatedCategories = dishCategories.map((category) =>\n          category.id === categoryId\n            ? {\n                ...category,\n                dishes: [...category.dishes, data.url],\n              }\n            : category\n        );\n        setDishCategories(updatedCategories);\n        newDishModal();\n        displayToast(\n          'Dish \"' + String(data.name) + '\" has been created!',\n          \"success\"\n        );\n      })\n      .catch((data) => {\n        displayToast(data, \"error\");\n      });\n  };\n\n  //TO REFACTOR: Unify with onSubmit in CategoryItem.jsx component\n  const onSubmitNewDishCategory = (formData) => {\n    let payload = new FormData();\n    payload.append(\"name\", formData.name);\n    payload.append(\"description\", formData.description);\n    payload.append(\n      \"created_by\",\n      JSON.parse(window.localStorage.getItem(\"logedUserId\"))\n    );\n    createDishCategory(payload, tokenValue, csfrTokenValue)\n      .then((data) => {\n        // console.log(data)\n        if (data.Error) {\n          throw data;\n        }\n        return data;\n      })\n      .then((data) => {\n        // console.log(data)\n        const newCategory = [data];\n        setDishCategories([...dishCategories, ...newCategory]);\n        newDishCategoryModal();\n        displayToast(\n          'Category \"' + String(data.name) + '\" has been created!',\n          \"success\"\n        );\n      })\n      .catch((data) => {\n        displayToast(data, \"error\");\n      });\n  };\n\n  return (\n    <>\n        {tokenValue? \n            (<ToolBarWrapper>\n        <ModalHook\n            modalHook={newDishHook}\n            content={\n            <DishForm\n                onSubmit={onSubmitNewDish}\n                dishCategories={dishCategories}\n            />\n            }\n        />\n        <ModalHook\n            modalHook={newDishCategoryHook}\n            content={<DishCategoryForm onSubmit={onSubmitNewDishCategory} />}\n        />\n        <ButtonNormal onClick={newDishModal}>\n            + Add Dish\n        </ButtonNormal>\n        <ButtonNormal onClick={newDishCategoryModal}>\n            + New Dish Category\n        </ButtonNormal>\n        </ToolBarWrapper>) : (<></>)}\n    </>\n    )\n\n}\n\nexport default ToolBar;","/home/adolfo/menu_app/frontend/menu/src/styles/css.jsx",[],[],"/home/adolfo/menu_app/frontend/menu/src/pages/popups/ConfirmationYesNo.jsx",["221","222","223","224","225"],[],"/home/adolfo/menu_app/frontend/menu/src/pages/forms/DishForm.jsx",["226"],[],"/home/adolfo/menu_app/frontend/menu/src/pages/forms/DishCategoryForm.jsx",["227"],[],"/home/adolfo/menu_app/frontend/menu/src/components/BussinessInformationCard.jsx",[],[],"/home/adolfo/menu_app/frontend/menu/src/components/forms/DishForm.jsx",["228"],[],"/home/adolfo/menu_app/frontend/menu/src/components/forms/DishCategoryForm.jsx",[],[],"/home/adolfo/menu_app/frontend/menu/src/components/popups/ConfirmationYesNo.jsx",["229","230","231"],[],"/home/adolfo/menu_app/frontend/menu/src/components/userInformation.jsx",[],[],{"ruleId":"232","severity":1,"message":"233","line":1,"column":8,"nodeType":"234","messageId":"235","endLine":1,"endColumn":14},{"ruleId":"232","severity":1,"message":"236","line":9,"column":26,"nodeType":"234","messageId":"235","endLine":9,"endColumn":43},{"ruleId":"232","severity":1,"message":"237","line":10,"column":24,"nodeType":"234","messageId":"235","endLine":10,"endColumn":39},{"ruleId":"232","severity":1,"message":"238","line":10,"column":55,"nodeType":"234","messageId":"235","endLine":10,"endColumn":70},{"ruleId":"232","severity":1,"message":"239","line":10,"column":83,"nodeType":"234","messageId":"235","endLine":10,"endColumn":95},{"ruleId":"232","severity":1,"message":"240","line":1,"column":39,"nodeType":"234","messageId":"235","endLine":1,"endColumn":48},{"ruleId":"232","severity":1,"message":"241","line":20,"column":10,"nodeType":"234","messageId":"235","endLine":20,"endColumn":19},{"ruleId":"232","severity":1,"message":"242","line":20,"column":21,"nodeType":"234","messageId":"235","endLine":20,"endColumn":33},{"ruleId":"232","severity":1,"message":"243","line":34,"column":10,"nodeType":"234","messageId":"235","endLine":34,"endColumn":24},{"ruleId":"232","severity":1,"message":"244","line":36,"column":10,"nodeType":"234","messageId":"235","endLine":36,"endColumn":27},{"ruleId":"232","severity":1,"message":"245","line":37,"column":10,"nodeType":"234","messageId":"235","endLine":37,"endColumn":29},{"ruleId":"232","severity":1,"message":"246","line":15,"column":10,"nodeType":"234","messageId":"235","endLine":15,"endColumn":18},{"ruleId":"232","severity":1,"message":"247","line":19,"column":29,"nodeType":"234","messageId":"235","endLine":19,"endColumn":41},{"ruleId":"232","severity":1,"message":"243","line":24,"column":10,"nodeType":"234","messageId":"235","endLine":24,"endColumn":24},{"ruleId":"248","severity":1,"message":"249","line":43,"column":6,"nodeType":"250","endLine":43,"endColumn":14,"suggestions":"251"},{"ruleId":"232","severity":1,"message":"233","line":1,"column":8,"nodeType":"234","messageId":"235","endLine":1,"endColumn":14},{"ruleId":"232","severity":1,"message":"252","line":8,"column":62,"nodeType":"234","messageId":"235","endLine":8,"endColumn":75},{"ruleId":"232","severity":1,"message":"253","line":20,"column":10,"nodeType":"234","messageId":"235","endLine":20,"endColumn":22},{"ruleId":"232","severity":1,"message":"254","line":20,"column":41,"nodeType":"234","messageId":"235","endLine":20,"endColumn":53},{"ruleId":"232","severity":1,"message":"255","line":20,"column":72,"nodeType":"234","messageId":"235","endLine":20,"endColumn":81},{"ruleId":"248","severity":1,"message":"256","line":81,"column":6,"nodeType":"250","endLine":81,"endColumn":22,"suggestions":"257"},{"ruleId":"248","severity":1,"message":"258","line":20,"column":6,"nodeType":"250","endLine":20,"endColumn":8,"suggestions":"259"},{"ruleId":"232","severity":1,"message":"260","line":3,"column":7,"nodeType":"234","messageId":"235","endLine":3,"endColumn":19},{"ruleId":"232","severity":1,"message":"233","line":1,"column":8,"nodeType":"234","messageId":"235","endLine":1,"endColumn":14},{"ruleId":"232","severity":1,"message":"253","line":16,"column":10,"nodeType":"234","messageId":"235","endLine":16,"endColumn":22},{"ruleId":"232","severity":1,"message":"254","line":16,"column":41,"nodeType":"234","messageId":"235","endLine":16,"endColumn":53},{"ruleId":"232","severity":1,"message":"255","line":16,"column":72,"nodeType":"234","messageId":"235","endLine":16,"endColumn":81},{"ruleId":"232","severity":1,"message":"236","line":17,"column":26,"nodeType":"234","messageId":"235","endLine":17,"endColumn":43},{"ruleId":"232","severity":1,"message":"261","line":19,"column":10,"nodeType":"234","messageId":"235","endLine":19,"endColumn":16},{"ruleId":"232","severity":1,"message":"262","line":19,"column":18,"nodeType":"234","messageId":"235","endLine":19,"endColumn":27},{"ruleId":"248","severity":1,"message":"263","line":77,"column":6,"nodeType":"250","endLine":77,"endColumn":22,"suggestions":"264"},{"ruleId":"232","severity":1,"message":"233","line":2,"column":8,"nodeType":"234","messageId":"235","endLine":2,"endColumn":14},{"ruleId":"232","severity":1,"message":"254","line":11,"column":5,"nodeType":"234","messageId":"235","endLine":11,"endColumn":17},{"ruleId":"232","severity":1,"message":"255","line":13,"column":5,"nodeType":"234","messageId":"235","endLine":13,"endColumn":14},{"ruleId":"248","severity":1,"message":"265","line":25,"column":6,"nodeType":"250","endLine":25,"endColumn":16,"suggestions":"266"},{"ruleId":"232","severity":1,"message":"233","line":1,"column":8,"nodeType":"234","messageId":"235","endLine":1,"endColumn":14},{"ruleId":"232","severity":1,"message":"267","line":13,"column":23,"nodeType":"234","messageId":"235","endLine":13,"endColumn":36},{"ruleId":"232","severity":1,"message":"253","line":18,"column":10,"nodeType":"234","messageId":"235","endLine":18,"endColumn":22},{"ruleId":"232","severity":1,"message":"254","line":18,"column":41,"nodeType":"234","messageId":"235","endLine":18,"endColumn":53},{"ruleId":"232","severity":1,"message":"255","line":18,"column":72,"nodeType":"234","messageId":"235","endLine":18,"endColumn":81},{"ruleId":"232","severity":1,"message":"268","line":2,"column":17,"nodeType":"234","messageId":"235","endLine":2,"endColumn":25},{"ruleId":"232","severity":1,"message":"269","line":2,"column":27,"nodeType":"234","messageId":"235","endLine":2,"endColumn":37},{"ruleId":"232","severity":1,"message":"270","line":4,"column":10,"nodeType":"234","messageId":"235","endLine":4,"endColumn":17},{"ruleId":"232","severity":1,"message":"271","line":56,"column":7,"nodeType":"234","messageId":"235","endLine":56,"endColumn":21},{"ruleId":"232","severity":1,"message":"272","line":79,"column":7,"nodeType":"234","messageId":"235","endLine":79,"endColumn":11},{"ruleId":"248","severity":1,"message":"273","line":31,"column":6,"nodeType":"250","endLine":31,"endColumn":8,"suggestions":"274"},{"ruleId":"232","severity":1,"message":"242","line":13,"column":21,"nodeType":"234","messageId":"235","endLine":13,"endColumn":33},{"ruleId":"248","severity":1,"message":"273","line":47,"column":6,"nodeType":"250","endLine":47,"endColumn":8,"suggestions":"275"},{"ruleId":"232","severity":1,"message":"268","line":2,"column":17,"nodeType":"234","messageId":"235","endLine":2,"endColumn":25},{"ruleId":"232","severity":1,"message":"269","line":2,"column":27,"nodeType":"234","messageId":"235","endLine":2,"endColumn":37},{"ruleId":"232","severity":1,"message":"270","line":4,"column":10,"nodeType":"234","messageId":"235","endLine":4,"endColumn":17},"no-unused-vars","'styled' is defined but never used.","Identifier","unusedVar","'setDishCategories' is assigned a value but never used.","'setToastVisible' is assigned a value but never used.","'setToastMessage' is assigned a value but never used.","'setToastType' is assigned a value but never used.","'useEffect' is defined but never used.","'errorText' is assigned a value but never used.","'setErrorText' is assigned a value but never used.","'csfrTokenValue' is assigned a value but never used.","'userLoggedIdValue' is assigned a value but never used.","'userLoggedNameValue' is assigned a value but never used.","'Navigate' is defined but never used.","'userLoggedId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.","ArrayExpression",["276"],"'DishesContext' is defined but never used.","'toastVisible' is assigned a value but never used.","'toastMessage' is assigned a value but never used.","'toastType' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'category'. Either include it or remove the dependency array.",["277"],"React Hook useEffect has a missing dependency: 'textTitle'. Either include it or remove the dependency array. If 'setTitle' needs the current value of 'textTitle', you can also switch to useReducer instead of useState and read 'textTitle' in the reducer.",["278"],"'handleErrors' is assigned a value but never used.","'dishes' is assigned a value but never used.","'setDishes' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props.dish'. Either include it or remove the dependency array. If 'setDish' needs the current value of 'props.dish', you can also switch to useReducer instead of useState and read 'props.dish' in the reducer.",["279"],"React Hook useEffect has missing dependencies: 'setToastMessage', 'setToastType', 'setToastVisible', and 'toastVisible'. Either include them or remove the dependency array.",["280"],"'ToolBarButton' is defined but never used.","'useState' is defined but never used.","'useContext' is defined but never used.","'Context' is defined but never used.","'FieldNameLabel' is assigned a value but never used.","'Form' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'data' and 'dishCategories'. Either include them or remove the dependency array.",["281"],["282"],{"desc":"283","fix":"284"},{"desc":"285","fix":"286"},{"desc":"287","fix":"288"},{"desc":"289","fix":"290"},{"desc":"291","fix":"292"},{"desc":"293","fix":"294"},{"desc":"293","fix":"295"},"Update the dependencies array to be: [logOut, navigate]",{"range":"296","text":"297"},"Update the dependencies array to be: [category, dishCategories]",{"range":"298","text":"299"},"Update the dependencies array to be: [textTitle]",{"range":"300","text":"301"},"Update the dependencies array to be: [dishCategories, props.dish]",{"range":"302","text":"303"},"Update the dependencies array to be: [duration, setToastMessage, setToastType, setToastVisible, toastVisible]",{"range":"304","text":"305"},"Update the dependencies array to be: [data, dishCategories]",{"range":"306","text":"307"},{"range":"308","text":"307"},[1409,1417],"[logOut, navigate]",[2997,3013],"[category, dishCategories]",[511,513],"[textTitle]",[2744,2760],"[dishCategories, props.dish]",[718,728],"[duration, setToastMessage, setToastType, setToastVisible, toastVisible]",[899,901],"[data, dishCategories]",[1288,1290]]